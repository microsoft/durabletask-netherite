{
  "version": "2.0",
  "logging": {
    "logLevel": {
      "default": "Warning",

      // ------ NOTE: the log levels in this section affect some, but NOT ALL consumers
      // - limits what gets displayed in the func.exe console (which is extremely costly)
      // - limits what gets stored in application insights
      // - does not limit what is collected by ETW
      // - does not limit what is traced to console
      // - does not limit what is shown in Live Metrics side panel

      // ---- the triggers below can be enabled to get specific host tracing
      "Host": "Information",
      //"Host.Aggregator": "Trace",
      //"Host.Results": "Error",
      //"Host.Triggers.DurableTask": "Information",

      // ---- the triggers below can be enabled to get information on specific functions
      "Function": "Warning",
      //"Function.HelloCities": "Information",
      //"Function.HelloSequence": "Information",
      //"Function.Producer": "Warning",
      //"Function.Consumer": "Warning",
      //"Function.Completion": "Warning",
      //"Function.Mapper": "Warning",
      //"Function.Reducer": "Warning",
      //"Function.Summary": "Warning",
      //"Function.Wordcount": "Warning",

      // --- the levels below are used to control the Netherite tracing
      "DurableTask.Netherite": "Information",
      "DurableTask.Netherite.FasterStorage": "Warning",
      "DurableTask.Netherite.EventHubsTransport": "Warning",
      "DurableTask.Netherite.Events": "Warning",
      "DurableTask.Netherite.WorkItems": "Warning"
    },
    "applicationInsights": {
      "sampling": {
        "isEnabled": false
      }
    }
  },
  "extensions": {
    "http": {
      "routePrefix": ""
    },
    "durableTask": {

      "hubName": "perftests",

      "extendedSessionsEnabled": "true", // important for cache locality
      "UseGracefulShutdown": true, // important to avoid lengthy waits for lease expiration

      "maxConcurrentActivityFunctions": "100",
      "maxConcurrentOrchestratorFunctions": "100",

      "storageProvider": {

        "type": "Netherite",

        "StorageConnectionName": "AzureWebJobsStorage",
        "EventHubsConnectionName": "EventHubsConnection",

        "TakeStateCheckpointWhenStoppingPartition": "true",
        "MaxNumberBytesBetweenCheckpoints": "20000000",
        "MaxNumberEventsBetweenCheckpoints": "10000",
        "MaxTimeMsBetweenCheckpoints": "60000",

        "PartitionCount": 12,

        // set this to true to use the PSF support in Faster
        "UsePSFQueries": "false",

        // set this to true to bypass Faster and instead use Azure blobs for the object store
        "UseAlternateObjectStore": "false",

        // set this to "true" to disable all speculation
        "PersistStepsFirst": false,

        // How many TaskMessages to pack into a single event
        "PackPartitionTaskMessages": 100,

        // can set this to "Scripted" to control the scenario with a partition script
        "PartitionManagement": "EventProcessorHost",

        // this controls what log information is produced by the various components
        // it limits production of the events, and thus can be used to prevent overheads
        // even when some consumers (e.g. Application Insights) are configured to trace information at the lowest level
        "LogLevelLimit": "Debug",
        "StorageLogLevelLimit": "Debug",
        "TransportLogLevelLimit": "Debug",
        "EventLogLevelLimit": "Debug",
        "WorkItemLogLevelLimit": "Debug",

        // the following can be used to split and direct trace output to additional specific sinks
        // which is useful in a testing and debugging context
        "TraceToConsole": false,
        "TraceToBlob": false
      }
    }
  }
}
    